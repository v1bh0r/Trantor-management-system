<h1 class="block_heading">Edit Employees</h1>
<div class="row" style="margin: 10px;">
  <%= form_for(:user ,:url => "/employees/#{@user.id}",:html => { :multipart => true},method: :put) do |f| %>
      <div >
       <%= f.file_field :avatar %>
      </div>
      <div class="span2">
        <%= image_tag @user.avatar.url(:thumb) %>
      </div>
      <div class="span9">
        <%= f.hidden_field  "id", :value => @user.id  %>
          <div class="field row span12">

            <div class="span4">
              <%= f.label :ecode %><%= f.text_field :ecode ,:data => "" %>
            </div>
            <div class="span4">
              <%= f.label :name %><%= f.text_field :name ,:data => "" %>
            </div>
            <div class="span4">
              <%= f.label :date_of_joining %><%= f.text_field :date_of_joining ,:class=>"datepicker" %>
            </div>
        </div>
          <div class="field row span12">
            <div class="span4">
              <%= f.label :designation %><%= f.select :designation_id, options_for_select(Designation.all.map{|d| ["#{d.name}",d.id]}, :selected => @user.designation_id)%>
            </div>
            <div class="span4">
              <%= f.label :band_id %><%= f.select :band_id, options_for_select(Band.all.map{|d| ["#{d.name}",d.id]}, :selected => @user.band_id)%>
            </div>
            <div class="span4">
              <%= f.label :email %><%= f.text_field :email  %>
            </div>
          </div>
          <div class="field row span12">

            <div class="span4">
              <%= f.label :gender %><%= f.select :gender, options_for_select(["M","F"], :selected => @user.gender)%>
            </div>

            <div class="span4">
              <%= f.label :Address %><%= f.text_field :address ,:data => "" %>
            </div>

            <div class="span4">
              <%#= f.label :manager_ecode %><%#= f.select :manager_ecode, options_for_select(@managers.map{|d| ["#{d.name} #{d.ecode}",d.ecode]} , :selected => @user.manager_ecode), :prompt => "select" unless @managers.nil?%>
            </div>
          </div>

          <div class="field row span12">
            <div class="span4">
              <%= f.label :blood_group %><%= f.text_field :blood_group ,:data => "" %>
            </div>

            <div class="span4">
              <%= f.label :date_of_birth %><%= f.text_field :date_of_birth ,:class=>"datepicker" ,:readonly => true%>
            </div>
            <%#=hidden_field "user","project_id", :value => @user.id %>
            <div class="span4" id="replace_products" >
              <%#= render :partial => 'project' %>
            </div>

          </div>
          <div class="field row span12">
            <div class="span4">
              <%= f.label :date_of_anniversary %><%= f.text_field :date_of_anniversary ,:class=>"datepicker" ,:readonly => true%>
            </div>

            <div class="span4">
              <%= f.label :pan_no %><%= f.text_field :pan_no ,:data => "" %>
            </div>

            <div class="span4">
              <%#= f.label :bank_number %><%#= f.text_field :bank_number ,:data => "" %>
            </div>
          </div>
          <div class="field row span12">
            <div class="span4">
              <%= f.label :bank_id %><%= f.select :bank_id, options_for_select(Bank.all.map{|d| ["#{d.name} ",d.id]} , :selected => @user.bank_id) %>
            </div>
            <div class="span4">
              <%= f.label :father_name %><%= f.text_field :father_name ,:data => "" %>
            </div>

            <div class="span4">
              <%= f.label :spouse_name %><%= f.text_field :spouse_name ,:data => "" %>
            </div>

          </div>
          <div class="field row span12">
            <div class="span4">
              <%= f.label :role %><%= f.select :role, options_for_select(User::ROLES.map{|d| ["#{d}"]}, :selected => @user.role) %>
            </div>
            <div class="span4">
              <%#= f.label "Emp Type" %>
              <%#= f.select :emptype_id, options_for_select(Emptype.all.map{|d| ["#{d.name} ",d.id]}, :selected => @user.emptype_id) %>
            </div>
            <div class="span4">
              <%= f.label :marital_status %><%= f.select :marital_status, options_for_select(["Unmarried","Married","divorced"], :selected => @user.marital_status)%>
            </div>
           </div>
          <div class="actions row">
            <div class="span2 offset6"><button type="submit"  >Update</button></div>
          </div>
      </div>
  <%end%>

</div>